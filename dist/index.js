"use strict";function Ingenico(a){this.logger=a,this.modules={giftCard:require("./modules/giftCard")(a)},this.isReady=!1}var _=require("lodash"),logger=require("yocto-logger"),joi=require("joi");Ingenico.prototype.prepare=function(a){var b=joi.object().required().keys({uri:joi.string().required().uri()}),c=joi.validate(a,b,{abortEarly:!0});return c.error?(this.logger.error(["[ Ingenico.prepare ] - An error occured during prepare :",c.error].join(" ")),!1):(_.every(this.modules,function(a){return a.use(c.value)}),this.isReady=!0,!0)},Ingenico.prototype.giftCard=function(){return this.modules.giftCard},module.exports=function(a){return(_.isUndefined(a)||_.isNull(a))&&(logger.warning("[ Ingenico.constructor ] - Invalid logger given. Use internal logger"),a=logger),new Ingenico(a)};